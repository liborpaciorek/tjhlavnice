{% extends 'base.html' %} {% load static club_filters %} {% block title %}Z√°pasy - TJ Dru≈æba
Hlavnice{% endblock %} {% block content %}
<!-- Hero Section -->
<section class="hero-bg py-20 px-4 sm:px-6 lg:px-8">
  <div class="max-w-7xl mx-auto text-center">
    <span
      class="inline-block bg-club-red px-4 py-2 rounded-full text-sm font-semibold uppercase tracking-wide text-white mb-6"
    >
      üèÜ Sportovn√≠ kalend√°≈ô
    </span>
    <h1 class="text-4xl lg:text-6xl font-bold text-white mb-6">
      Z√ÅPASY & <span class="text-club-red">V√ùSLEDKY</span>
    </h1>
    <p class="text-xl text-gray-300 max-w-3xl mx-auto">
      Sledujte v≈°echny na≈°e z√°pasy, v√Ωsledky a budouc√≠ utk√°n√≠.
    </p>
  </div>
</section>

<!-- League Filter -->
<section class="px-4 sm:px-6 lg:px-8">
  <div class="max-w-7xl mx-auto">
    <form method="get" class="glass-card rounded-2xl p-4 md:p-5 grid grid-cols-1 sm:grid-cols-2 gap-4 items-center">
      <div class="w-full min-w-0 flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3">
        <label for="league" class="block text-sm text-gray-300">Soutƒõ≈æ</label>
        <select id="league" name="league" aria-label="Vyberte soutƒõ≈æ" class="w-full max-w-full bg-dark-blue-light border border-white/10 text-white rounded-lg px-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-club-red/60" onchange="this.form.submit()">
          <option value="" {% if not selected_league %}selected{% endif %}>V≈°echny soutƒõ≈æe</option>
          {% for league in leagues %}
            <option value="{{ league.id }}" {% if selected_league and selected_league.id == league.id %}selected{% endif %}>{{ league.name }} ‚Äî {{ league.season }}</option>
          {% endfor %}
        </select>
      </div>
      {% if selected_league %}
      <div class="w-full min-w-0 text-center sm:text-right text-xs text-gray-400">
        Filtrov√°no podle: <span class="text-white font-semibold">{{ selected_league.name }} ‚Ä¢ {{ selected_league.season }}</span>
        <a href="{% url 'matches' %}" class="ml-2 sm:ml-3 inline-block text-club-red hover:text-white underline underline-offset-4">Zru≈°it filtr</a>
      </div>
      {% endif %}
    </form>
  </div>
  </section>

<!-- Upcoming Matches moved below Recent -->

<!-- Recent Matches -->
{% if recent_matches %}
<section class="py-20 px-4 sm:px-6 lg:px-8">
  <div class="max-w-7xl mx-auto">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold text-white mt-2 mb-4">ODEHRAN√â</h2>
  {% if selected_league %}
  <div class="text-gray-400">{{ selected_league.name }} ‚Ä¢ {{ selected_league.season }}</div>
  {% endif %}
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      {% for match in recent_matches %}
      <div class="glass-card rounded-2xl p-4 sm:p-5 hover:scale-[1.01] transition-all duration-300">
        <div class="flex items-center justify-between gap-3">
          <div class="min-w-0">
            <div class="flex items-center gap-3 text-white font-semibold">
              <span class="inline-flex items-center gap-2 truncate text-base md:text-xl {{ match.home_team|is_hlavnice_team|yesno:'text-club-red font-extrabold,,' }}">
                {% if match.home_team.flag %}
         <img src="{{ match.home_team.flag.url }}" alt="{{ match.home_team.short_name|default:match.home_team.name }}"
           class="w-5 h-5 md:w-6 md:h-6 object-cover rounded-sm" />
                {% else %}
                  <span class="w-5 h-5 md:w-6 md:h-6 bg-club-red/60 rounded-sm flex items-center justify-center"><i class="fas fa-futbol text-[10px] md:text-xs text-white"></i></span>
                {% endif %}
                {{ match.home_team|team_display }}
              </span>
              <span class="text-gray-400">vs</span>
              <span class="inline-flex items-center gap-2 truncate text-base md:text-xl {{ match.away_team|is_hlavnice_team|yesno:'text-club-red font-extrabold,,' }}">
                {% if match.away_team.flag %}
         <img src="{{ match.away_team.flag.url }}" alt="{{ match.away_team.short_name|default:match.away_team.name }}"
           class="w-5 h-5 md:w-6 md:h-6 object-cover rounded-sm" />
                {% else %}
                  <span class="w-5 h-5 md:w-6 md:h-6 bg-white/20 rounded-sm flex items-center justify-center"><i class="fas fa-shield-alt text-[10px] md:text-xs text-white"></i></span>
                {% endif %}
                {{ match.away_team|team_display }}
              </span>
            </div>
            <div class="text-gray-300 text-xs sm:text-sm truncate">
              {{ match.league.name }}{% if match.round_number %} - {{ match.round_number }}. kolo{% endif %}
            </div>
          </div>
          <div class="text-right shrink-0">
            <div class="text-white font-black text-2xl md:text-3xl leading-none tracking-tight">{{ match.home_score|default:"0" }}:<span>{{ match.away_score|default:"0" }}</span></div>
            <div class="text-[10px] text-gray-400 mt-1">FT ‚Ä¢ {{ match.date|date:"d.m.Y" }} <span class="ml-1">{{ match.date|date:"H:i" }}</span></div>
          </div>
        </div>
        {% if match.location %}
        <div class="mt-3 text-gray-300 text-xs"><i class="fas fa-map-marker-alt text-club-red mr-1"></i>{{ match.location }}</div>
        {% endif %}
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}

<!-- Upcoming Matches -->
{% if upcoming_matches %}
<section class="py-20 px-4 sm:px-6 lg:px-8">
  <div class="max-w-7xl mx-auto">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold text-white mt-2 mb-4">
        NADCH√ÅZEJ√çC√ç
      </h2>
      {% if selected_league %}
      <div class="text-gray-400">{{ selected_league.name }} ‚Ä¢ {{ selected_league.season }}</div>
      {% endif %}
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8">
      {% for match in upcoming_matches %}
      <div
        class="glass-card rounded-2xl overflow-hidden hover:scale-105 transition-all duration-300"
      >
        <div class="bg-gradient-to-r from-club-red to-club-red-dark p-4">
          <div class="text-center text-white">
            <div
              class="text-sm font-semibold uppercase tracking-wide opacity-90"
            >
              {{ match.league.name }}{% if match.round_number %} - {{ match.round_number }}. kolo{% endif %}
            </div>
            <div class="text-lg font-bold mt-1">
              {{ match.date|date:"d. M Y" }}
            </div>
            <div class="text-sm opacity-90">{{ match.date|date:"H:i" }}</div>
          </div>
        </div>

        <div class="p-6">
          <div class="grid grid-cols-3 gap-4 items-center text-center">
            <!-- Home Team -->
            <div class="text-white">
              {% if match.home_team.flag %}
              <img
                src="{{ match.home_team.flag.url }}"
                alt="{{ match.home_team.name }}"
                class="w-12 h-8 object-cover rounded mx-auto mb-2"
              />
              {% else %}
              <div
                class="w-12 h-12 bg-club-red rounded-full flex items-center justify-center mx-auto mb-2"
              >
                <i class="fas fa-futbol text-white"></i>
              </div>
              {% endif %}
              <div class="font-bold text-sm">{{ match.home_team.short_name|default:match.home_team.name }}</div>
              <div class="text-xs text-gray-400">
                {{ match.home_team.city }}
              </div>
            </div>

            <!-- VS -->
            <div class="text-center">
              <div class="text-2xl font-bold text-club-red">VS</div>
              <div class="text-xs text-gray-400 mt-1">Z√ÅPAS</div>
            </div>

            <!-- Away Team -->
            <div class="text-white">
              {% if match.away_team.flag %}
              <img
                src="{{ match.away_team.flag.url }}"
                alt="{{ match.away_team.name }}"
                class="w-12 h-8 object-cover rounded mx-auto mb-2"
              />
              {% else %}
              <div
                class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-2"
              >
                <i class="fas fa-shield-alt text-white"></i>
              </div>
              {% endif %}
              <div class="font-bold text-sm">{{ match.away_team.short_name|default:match.away_team.name }}</div>
              <div class="text-xs text-gray-400">
                {{ match.away_team.city }}
              </div>
            </div>
          </div>

          {% if match.location %}
          <div class="mt-4 pt-4 border-t border-white/10 text-center">
            <div class="text-gray-300 text-sm">
              <i class="fas fa-map-marker-alt text-club-red mr-1"></i>
              {{ match.location }}
            </div>
          </div>
          {% endif %}

          
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}

<!-- No Matches Message -->
{% if not upcoming_matches and not recent_matches %}
<section class="py-20 px-4 sm:px-6 lg:px-8">
  <div class="max-w-4xl mx-auto text-center">
    <div class="glass-card rounded-2xl p-12">
      <div class="text-gray-400 mb-6">
        <i class="fas fa-calendar-times text-8xl"></i>
      </div>
      <h3 class="text-2xl font-bold text-white mb-4">≈Ω√°dn√© z√°pasy</h3>
      <p class="text-gray-300 text-lg">
        Moment√°lnƒõ nejsou k dispozici ≈æ√°dn√© z√°pasy. Sledujte na≈°e aktuality pro
        nejnovƒõj≈°√≠ informace.
      </p>
      <div class="mt-8">
        <a
          href="{% url 'news_list' %}"
          class="bg-club-red hover:bg-club-red-dark text-white px-8 py-3 rounded-lg font-semibold transition-colors duration-200"
        >
          AKTUALITY
        </a>
      </div>
    </div>
  </div>
</section>
{% endif %} {% endblock %}
